"use strict";(self.webpackChunkpaystabl_docs=self.webpackChunkpaystabl_docs||[]).push([[849],{7495:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"architecture","title":"System Architecture","description":"PayStabl\'s architecture enables autonomous AI agents to handle payments through programmable smart wallets with policy governance and seamless M2M commerce capabilities.","source":"@site/docs/architecture.mdx","sourceDirName":".","slug":"/architecture","permalink":"/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/paystabl/docs/tree/main/docs/architecture.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/quickstart"},"next":{"title":"MCP Integration","permalink":"/integrations/mcp"}}');var t=i(4848),r=i(8453);const a={},l="System Architecture",o={},c=[{value:"High-Level Architecture",id:"high-level-architecture",level:2},{value:"Core Components",id:"core-components",level:2},{value:"1. Agent Wallet Engine",id:"1-agent-wallet-engine",level:3},{value:"2. Policy Engine",id:"2-policy-engine",level:3},{value:"3. x402 Protocol Handler",id:"3-x402-protocol-handler",level:3},{value:"4. Session Management",id:"4-session-management",level:3},{value:"Data Flow",id:"data-flow",level:2},{value:"API Payment Flow",id:"api-payment-flow",level:3},{value:"Agent-to-Agent Payment Flow",id:"agent-to-agent-payment-flow",level:3},{value:"Blockchain Integration",id:"blockchain-integration",level:2},{value:"Base Layer 2 Network",id:"base-layer-2-network",level:3},{value:"Smart Contract Architecture",id:"smart-contract-architecture",level:3},{value:"Gasless Transactions",id:"gasless-transactions",level:3},{value:"Security Model",id:"security-model",level:2},{value:"Multi-layered Security",id:"multi-layered-security",level:3},{value:"Privacy and Compliance",id:"privacy-and-compliance",level:3},{value:"Monitoring and Analytics",id:"monitoring-and-analytics",level:2},{value:"Real-time Monitoring",id:"real-time-monitoring",level:3},{value:"Analytics Dashboard",id:"analytics-dashboard",level:3},{value:"Scalability and Performance",id:"scalability-and-performance",level:2},{value:"Horizontal Scaling",id:"horizontal-scaling",level:3},{value:"Performance Optimizations",id:"performance-optimizations",level:3},{value:"Disaster Recovery",id:"disaster-recovery",level:2},{value:"Backup and Recovery",id:"backup-and-recovery",level:3},{value:"Future Architecture Considerations",id:"future-architecture-considerations",level:2},{value:"Planned Enhancements",id:"planned-enhancements",level:3},{value:"Integration Roadmap",id:"integration-roadmap",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Support",id:"support",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"system-architecture",children:"System Architecture"})}),"\n",(0,t.jsx)(n.p,{children:"PayStabl's architecture enables autonomous AI agents to handle payments through programmable smart wallets with policy governance and seamless M2M commerce capabilities."}),"\n",(0,t.jsx)(n.h2,{id:"high-level-architecture",children:"High-Level Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PayStabl Ecosystem                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   AI Agents     \u2502  PayStabl Core    \u2502    External Services          \u2502\n\u2502                 \u2502                   \u2502                               \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502   Claude    \u2502 \u2502 \u2502 Wallet Engine \u2502 \u2502 \u2502      x402 APIs              \u2502 \u2502\n\u2502 \u2502   MCP       \u2502\u2500\u253c\u2500\u2502               \u2502\u2500\u253c\u2500\u2502  \u2022 Weather Service          \u2502 \u2502\n\u2502 \u2502   Server    \u2502 \u2502 \u2502 Policy Engine \u2502 \u2502 \u2502  \u2022 Research Databases       \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502               \u2502 \u2502 \u2502  \u2022 Analysis Tools           \u2502 \u2502\n\u2502                 \u2502 \u2502 Session Mgmt  \u2502 \u2502 \u2502  \u2022 Document Processing      \u2502 \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502               \u2502 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502 \u2502  LangGraph  \u2502 \u2502 \u2502 Transaction   \u2502 \u2502                               \u2502\n\u2502 \u2502  Workflows  \u2502\u2500\u253c\u2500\u2502 Processing    \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502             \u2502 \u2502 \u2502               \u2502 \u2502 \u2502     Other AI Agents         \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502  \u2022 Specialist Agents        \u2502 \u2502\n\u2502                 \u2502                   \u2502 \u2502  \u2022 Service Providers        \u2502 \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502  \u2022 Tool Agents              \u2502 \u2502\n\u2502 \u2502   n8n       \u2502 \u2502 \u2502   Blockchain  \u2502 \u2502 \u2502  \u2022 Data Processors          \u2502 \u2502\n\u2502 \u2502 Workflows   \u2502\u2500\u253c\u2500\u2502   Layer       \u2502 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502 \u2502             \u2502 \u2502 \u2502  (Base L2)    \u2502 \u2502                               \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502                 \u2502                   \u2502 \u2502    Coinbase Services        \u2502 \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502  \u2022 CDP Platform             \u2502 \u2502\n\u2502 \u2502   Custom    \u2502 \u2502 \u2502   Monitoring  \u2502 \u2502 \u2502  \u2022 Smart Wallets            \u2502 \u2502\n\u2502 \u2502 Frameworks  \u2502\u2500\u253c\u2500\u2502   & Analytics \u2502 \u2502 \u2502  \u2022 Gasless Transactions     \u2502 \u2502\n\u2502 \u2502             \u2502 \u2502 \u2502               \u2502 \u2502 \u2502  \u2022 Multi-sig Support        \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,t.jsx)(n.h3,{id:"1-agent-wallet-engine",children:"1. Agent Wallet Engine"}),"\n",(0,t.jsx)(n.p,{children:"The heart of PayStabl's autonomous payment system:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface WalletEngine {\n  // Core wallet operations\n  createWallet(agentId: string): Promise<AgentWallet>;\n  getWallet(agentId: string): Promise<AgentWallet>;\n  \n  // Payment processing\n  processAPIPayment(request: APIPaymentRequest): Promise<PaymentResult>;\n  processAgentPayment(request: AgentPaymentRequest): Promise<PaymentResult>;\n  \n  // Policy enforcement\n  validateTransaction(transaction: Transaction): Promise<ValidationResult>;\n  applyPolicies(agentId: string, transaction: Transaction): Promise<PolicyResult>;\n}\n\ninterface AgentWallet {\n  address: string;\n  agentId: string;\n  balance: Balance;\n  policies: PolicySet;\n  sessionLimits: SessionLimits;\n  allowlist: string[];\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Smart Contract Wallets"}),": Each agent gets a programmable wallet"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Policy Governance"}),": Configurable spending limits and rules"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Session Management"}),": Temporary permissions and allowances"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multi-signature Support"}),": For high-value or team operations"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-policy-engine",children:"2. Policy Engine"}),"\n",(0,t.jsx)(n.p,{children:"Enforces spending rules and security controls:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface PolicyEngine {\n  // Policy management\n  setPolicies(agentId: string, policies: PolicySet): Promise<void>;\n  getPolicies(agentId: string): Promise<PolicySet>;\n  \n  // Transaction validation\n  validateSpendingLimit(agentId: string, amount: string): Promise<boolean>;\n  validateAllowlist(agentId: string, recipient: string): Promise<boolean>;\n  validateTimeRestrictions(agentId: string): Promise<boolean>;\n  \n  // Approval workflows\n  requestApproval(transaction: Transaction): Promise<ApprovalRequest>;\n  processApproval(requestId: string, decision: boolean): Promise<void>;\n}\n\ninterface PolicySet {\n  dailyLimit: string;\n  perTransactionLimit: string;\n  allowedDomains: string[];\n  timeRestrictions: TimeRestriction[];\n  approvalThreshold: string;\n  multiSigRequired: boolean;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Policy Types:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Spending Limits"}),": Daily, weekly, per-transaction caps"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Domain Allowlists"}),": Restrict payments to approved services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Time-based Controls"}),": Enable payments during specific hours"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Approval Workflows"}),": Human oversight for large transactions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multi-signature Requirements"}),": Team-based transaction approval"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"3-x402-protocol-handler",children:"3. x402 Protocol Handler"}),"\n",(0,t.jsx)(n.p,{children:'Manages HTTP 402 "Payment Required" flows:'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface X402Handler {\n  // Protocol handling\n  detectX402Response(response: HTTPResponse): boolean;\n  parsePaymentRequest(response: HTTPResponse): PaymentRequest;\n  \n  // Payment processing\n  generatePaymentHeader(request: PaymentRequest): Promise<string>;\n  retryWithPayment(originalRequest: HTTPRequest, paymentHeader: string): Promise<HTTPResponse>;\n  \n  // Receipt management\n  storeReceipt(payment: PaymentResult): Promise<void>;\n  getReceipt(transactionId: string): Promise<PaymentReceipt>;\n}\n\ninterface PaymentRequest {\n  amount: string;\n  currency: string;\n  recipient: string;\n  accepts: PaymentMethod[];\n  challenge: string;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Flow:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Agent makes API request"}),"\n",(0,t.jsx)(n.li,{children:"Server responds with 402 + payment details"}),"\n",(0,t.jsx)(n.li,{children:"PayStabl processes payment automatically"}),"\n",(0,t.jsx)(n.li,{children:"Request retried with X-Payment header"}),"\n",(0,t.jsx)(n.li,{children:"Server returns requested data"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"4-session-management",children:"4. Session Management"}),"\n",(0,t.jsx)(n.p,{children:"Handles temporary permissions and agent sessions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface SessionManager {\n  // Session lifecycle\n  createSession(agentId: string, config: SessionConfig): Promise<Session>;\n  getSession(sessionId: string): Promise<Session>;\n  terminateSession(sessionId: string): Promise<void>;\n  \n  // Permission management\n  grantTemporaryPermission(sessionId: string, permission: Permission): Promise<void>;\n  revokePermission(sessionId: string, permission: Permission): Promise<void>;\n  \n  // Allowance management\n  setSessionAllowance(sessionId: string, amount: string): Promise<void>;\n  checkAllowanceRemaining(sessionId: string): Promise<string>;\n}\n\ninterface Session {\n  id: string;\n  agentId: string;\n  permissions: Permission[];\n  allowance: string;\n  allowanceUsed: string;\n  expiresAt: Date;\n  metadata: SessionMetadata;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Session Features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Temporary Permissions"}),": Grant short-term access to services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Budget Allowances"}),": Set spending limits for specific tasks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Time-based Expiry"}),": Automatic session cleanup"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scope Limitation"}),": Restrict permissions to specific domains"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,t.jsx)(n.h3,{id:"api-payment-flow",children:"API Payment Flow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant Agent\n    participant PayStabl\n    participant API\n    participant Blockchain\n    \n    Agent->>API: Initial request\n    API->>Agent: 402 Payment Required + details\n    Agent->>PayStabl: Request payment authorization\n    PayStabl->>PayStabl: Validate policies\n    PayStabl->>Blockchain: Process payment transaction\n    Blockchain->>PayStabl: Transaction confirmed\n    PayStabl->>Agent: Return X-Payment header\n    Agent->>API: Retry with payment header\n    API->>Agent: Return requested data\n    PayStabl->>PayStabl: Log transaction for audit\n"})}),"\n",(0,t.jsx)(n.h3,{id:"agent-to-agent-payment-flow",children:"Agent-to-Agent Payment Flow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant AgentA\n    participant PayStabl\n    participant AgentB\n    participant Blockchain\n    \n    AgentA->>PayStabl: Request payment to AgentB\n    PayStabl->>PayStabl: Validate sender policies\n    PayStabl->>PayStabl: Verify recipient exists\n    PayStabl->>Blockchain: Execute transfer\n    Blockchain->>PayStabl: Confirm transaction\n    PayStabl->>AgentA: Return receipt\n    PayStabl->>AgentB: Notify of received payment\n    PayStabl->>PayStabl: Update balances & logs\n"})}),"\n",(0,t.jsx)(n.h2,{id:"blockchain-integration",children:"Blockchain Integration"}),"\n",(0,t.jsx)(n.h3,{id:"base-layer-2-network",children:"Base Layer 2 Network"}),"\n",(0,t.jsx)(n.p,{children:"PayStabl operates on Base, Coinbase's Ethereum Layer 2:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Low Transaction Costs"}),": Minimal fees for agent transactions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fast Confirmation"}),": Sub-second transaction finality"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ethereum Compatibility"}),": Full EVM support and tooling"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Coinbase Integration"}),": Native support for CDP features"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"smart-contract-architecture",children:"Smart Contract Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-solidity",children:'// Core agent wallet contract\ncontract AgentWallet {\n    address public agent;\n    mapping(address => uint256) public dailyLimits;\n    mapping(address => uint256) public dailySpent;\n    mapping(address => bool) public allowlist;\n    \n    modifier onlyAgent() {\n        require(msg.sender == agent, "Only agent can execute");\n        _;\n    }\n    \n    modifier withinLimits(uint256 amount) {\n        require(\n            dailySpent[msg.sender] + amount <= dailyLimits[msg.sender],\n            "Daily limit exceeded"\n        );\n        _;\n    }\n    \n    function executePayment(\n        address recipient,\n        uint256 amount,\n        bytes calldata data\n    ) external onlyAgent withinLimits(amount) {\n        require(allowlist[recipient], "Recipient not allowed");\n        \n        dailySpent[msg.sender] += amount;\n        \n        // Execute payment\n        (bool success,) = recipient.call{value: amount}(data);\n        require(success, "Payment failed");\n        \n        emit PaymentExecuted(recipient, amount, data);\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"gasless-transactions",children:"Gasless Transactions"}),"\n",(0,t.jsx)(n.p,{children:"PayStabl implements gasless transactions via Coinbase's paymaster:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface PaymasterService {\n  // Gasless transaction support\n  sponsorTransaction(transaction: Transaction): Promise<SponsoredTransaction>;\n  estimateGasCost(transaction: Transaction): Promise<GasEstimate>;\n  \n  // Policy-based gas sponsorship\n  shouldSponsorGas(agentId: string, transaction: Transaction): Promise<boolean>;\n  getGasBudget(agentId: string): Promise<GasBudget>;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Zero Gas Fees"}),": Agents don't need ETH for transaction fees"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Policy-based Sponsorship"}),": Control which transactions get sponsored"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cost Optimization"}),": Batch transactions for efficiency"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fail-safe Mechanisms"}),": Fallback to agent-paid gas if needed"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"security-model",children:"Security Model"}),"\n",(0,t.jsx)(n.h3,{id:"multi-layered-security",children:"Multi-layered Security"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface SecurityModel {\n  // Identity verification\n  verifyAgentIdentity(agentId: string, signature: string): Promise<boolean>;\n  \n  // Transaction security\n  validateTransactionSignature(transaction: Transaction): Promise<boolean>;\n  checkForSuspiciousActivity(agentId: string): Promise<SecurityAlert[]>;\n  \n  // Policy enforcement\n  enforceSpendingLimits(agentId: string, amount: string): Promise<boolean>;\n  requireMultiSigApproval(transaction: Transaction): Promise<boolean>;\n  \n  // Audit and compliance\n  logSecurityEvent(event: SecurityEvent): Promise<void>;\n  generateComplianceReport(agentId: string, period: TimePeriod): Promise<Report>;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Security Features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Identity Verification"}),": Cryptographic agent authentication"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transaction Signing"}),": All transactions cryptographically signed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Spending Limits"}),": Automatic enforcement of payment policies"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Suspicious Activity Detection"}),": ML-based fraud detection"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audit Trails"}),": Complete transaction logging"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multi-signature Support"}),": Team-based approval workflows"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"privacy-and-compliance",children:"Privacy and Compliance"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface ComplianceEngine {\n  // Privacy protection\n  anonymizeTransactionData(transaction: Transaction): Transaction;\n  handleDataDeletionRequest(agentId: string): Promise<void>;\n  \n  // Regulatory compliance\n  performKYCCheck(agentId: string): Promise<KYCResult>;\n  reportSuspiciousActivity(activity: SuspiciousActivity): Promise<void>;\n  \n  // Data retention\n  setRetentionPolicy(policy: RetentionPolicy): Promise<void>;\n  cleanupExpiredData(): Promise<CleanupResult>;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"monitoring-and-analytics",children:"Monitoring and Analytics"}),"\n",(0,t.jsx)(n.h3,{id:"real-time-monitoring",children:"Real-time Monitoring"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface MonitoringSystem {\n  // Performance metrics\n  getTransactionThroughput(): Promise<ThroughputMetrics>;\n  getSystemHealth(): Promise<HealthStatus>;\n  \n  // Financial metrics  \n  getTotalVolumeProcessed(period: TimePeriod): Promise<VolumeMetrics>;\n  getRevenueMetrics(period: TimePeriod): Promise<RevenueMetrics>;\n  \n  // Agent analytics\n  getAgentActivityMetrics(agentId: string): Promise<ActivityMetrics>;\n  getPopularServices(): Promise<ServiceMetrics[]>;\n  \n  // Alerts and notifications\n  setAlertThreshold(metric: MetricType, threshold: number): Promise<void>;\n  getActiveAlerts(): Promise<Alert[]>;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"analytics-dashboard",children:"Analytics Dashboard"}),"\n",(0,t.jsx)(n.p,{children:"Key metrics tracked:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transaction Volume"}),": Daily/monthly payment volume"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Success Rates"}),": Payment completion rates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent Activity"}),": Most active agents and services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cost Analysis"}),": Gas costs and optimization opportunities"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security Events"}),": Failed attempts and policy violations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Revenue Metrics"}),": Platform fees and usage patterns"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"scalability-and-performance",children:"Scalability and Performance"}),"\n",(0,t.jsx)(n.h3,{id:"horizontal-scaling",children:"Horizontal Scaling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface ScalingStrategy {\n  // Load balancing\n  distributeLoad(requests: Request[]): Promise<LoadDistribution>;\n  addCapacity(region: string, instances: number): Promise<void>;\n  \n  // Database sharding\n  shardByAgent(agentId: string): string;\n  rebalanceShards(): Promise<RebalanceResult>;\n  \n  // Caching strategies\n  cacheFrequentlyAccessedData(data: CacheableData): Promise<void>;\n  invalidateCache(key: string): Promise<void>;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"performance-optimizations",children:"Performance Optimizations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Database Sharding"}),": Agent data distributed across shards"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Redis Caching"}),": Frequently accessed data cached"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Connection Pooling"}),": Efficient database connections"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Batch Processing"}),": Group similar transactions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CDN Integration"}),": Global content delivery"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Async Processing"}),": Non-blocking payment processing"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"disaster-recovery",children:"Disaster Recovery"}),"\n",(0,t.jsx)(n.h3,{id:"backup-and-recovery",children:"Backup and Recovery"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface DisasterRecovery {\n  // Data backup\n  createBackup(type: BackupType): Promise<BackupResult>;\n  restoreFromBackup(backupId: string): Promise<RestoreResult>;\n  \n  // System recovery\n  failoverToSecondary(): Promise<FailoverResult>;\n  validateSystemIntegrity(): Promise<IntegrityReport>;\n  \n  // Agent wallet recovery\n  recoverAgentWallet(agentId: string, recoveryKey: string): Promise<WalletRecovery>;\n  exportWalletData(agentId: string): Promise<WalletExport>;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Recovery Features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automated Backups"}),": Regular snapshots of critical data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multi-region Replication"}),": Data replicated across regions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Wallet Recovery"}),": Agent wallet restoration capabilities"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hot Failover"}),": Automatic failover to backup systems"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data Integrity Checks"}),": Continuous validation of data consistency"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"future-architecture-considerations",children:"Future Architecture Considerations"}),"\n",(0,t.jsx)(n.h3,{id:"planned-enhancements",children:"Planned Enhancements"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multi-chain Support"}),": Expand beyond Base to other L2s"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Advanced AI Integration"}),": ML-powered payment optimization"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Decentralized Governance"}),": DAO-based protocol governance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enhanced Privacy"}),": Zero-knowledge payment proofs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cross-chain Bridges"}),": Seamless asset movement"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enterprise Features"}),": Advanced compliance and reporting"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"integration-roadmap",children:"Integration Roadmap"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Q1 2024"}),": Enhanced MCP server features"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Q2 2024"}),": LangGraph deep integration"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Q3 2024"}),": Multi-chain wallet support"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Q4 2024"}),": Advanced analytics and ML features"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/security",children:"Security Guide"})," - Detailed security implementation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/reference/x402_headers",children:"API Reference"})," - Technical specifications"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/integrations/mcp",children:"Integration Guides"})," - Framework integrations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/quickstart",children:"Quickstart Guide"})," - Getting started"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.paystabl.com",children:"Technical Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/paystabl/core",children:"GitHub Repository"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://discord.gg/paystabl",children:"Discord Community"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"mailto:support@paystabl.com",children:"Email Support"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);